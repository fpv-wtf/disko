<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Disko API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);' >
<div id="top">
<div id="titlearea" style="background:#262929;">
  <div id="projectlogo">
    <img alt="Logo" src="./disko-logo.png" style="float:left;"/>
    <br clear="all"/>
  </div>
</div>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
<h1>mmsinputx11handler.cpp</h1><a href="mmsinputx11handler_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *   Copyright (C) 2005-2007 Stefan Schwarzer, Jens Schneider,             *</span>
<a name="l00003"></a>00003 <span class="comment"> *                           Matthias Hardt, Guido Madaus                  *</span>
<a name="l00004"></a>00004 <span class="comment"> *                                                                         *</span>
<a name="l00005"></a>00005 <span class="comment"> *   Copyright (C) 2007-2008 BerLinux Solutions GbR                        *</span>
<a name="l00006"></a>00006 <span class="comment"> *                           Stefan Schwarzer &amp; Guido Madaus               *</span>
<a name="l00007"></a>00007 <span class="comment"> *                                                                         *</span>
<a name="l00008"></a>00008 <span class="comment"> *   Copyright (C) 2009-2013 BerLinux Solutions GmbH                       *</span>
<a name="l00009"></a>00009 <span class="comment"> *                                                                         *</span>
<a name="l00010"></a>00010 <span class="comment"> *   Authors:                                                              *</span>
<a name="l00011"></a>00011 <span class="comment"> *      Stefan Schwarzer   &lt;stefan.schwarzer@diskohq.org&gt;,                 *</span>
<a name="l00012"></a>00012 <span class="comment"> *      Matthias Hardt     &lt;matthias.hardt@diskohq.org&gt;,                   *</span>
<a name="l00013"></a>00013 <span class="comment"> *      Jens Schneider     &lt;jens.schneider@diskohq.org&gt;,                   *</span>
<a name="l00014"></a>00014 <span class="comment"> *      Guido Madaus       &lt;guido.madaus@diskohq.org&gt;,                     *</span>
<a name="l00015"></a>00015 <span class="comment"> *      Patrick Helterhoff &lt;patrick.helterhoff@diskohq.org&gt;,               *</span>
<a name="l00016"></a>00016 <span class="comment"> *      René Bählkow       &lt;rene.baehlkow@diskohq.org&gt;                     *</span>
<a name="l00017"></a>00017 <span class="comment"> *                                                                         *</span>
<a name="l00018"></a>00018 <span class="comment"> *   This library is free software; you can redistribute it and/or         *</span>
<a name="l00019"></a>00019 <span class="comment"> *   modify it under the terms of the GNU Lesser General Public            *</span>
<a name="l00020"></a>00020 <span class="comment"> *   License version 2.1 as published by the Free Software Foundation.     *</span>
<a name="l00021"></a>00021 <span class="comment"> *                                                                         *</span>
<a name="l00022"></a>00022 <span class="comment"> *   This library is distributed in the hope that it will be useful,       *</span>
<a name="l00023"></a>00023 <span class="comment"> *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
<a name="l00024"></a>00024 <span class="comment"> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU     *</span>
<a name="l00025"></a>00025 <span class="comment"> *   Lesser General Public License for more details.                       *</span>
<a name="l00026"></a>00026 <span class="comment"> *                                                                         *</span>
<a name="l00027"></a>00027 <span class="comment"> *   You should have received a copy of the GNU Lesser General Public      *</span>
<a name="l00028"></a>00028 <span class="comment"> *   License along with this library; if not, write to the                 *</span>
<a name="l00029"></a>00029 <span class="comment"> *   Free Software Foundation, Inc.,                                       *</span>
<a name="l00030"></a>00030 <span class="comment"> *   51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA            *</span>
<a name="l00031"></a>00031 <span class="comment"> **************************************************************************/</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="mmsinputx11handler_8h.html">mmsinput/mmsinputx11handler.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="mmsfb_8h.html">mmsgui/fb/mmsfb.h</a>"</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;typeinfo&gt;</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="preprocessor">#ifdef __HAVE_XLIB__</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#include &lt;X11/keysym.h&gt;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="mmsinputx11handler_8cpp.html#71229139d7c057da83a23e0f09a624cd">00040</a> <span class="keyword">static</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043" title="supported keys">MMSKeySymbol</a> <a class="code" href="mmsinputx11handler_8cpp.html#71229139d7c057da83a23e0f09a624cd">getKeyFromX11</a>(KeySym xSymbol) {
<a name="l00041"></a>00041 
<a name="l00042"></a>00042     <span class="keywordflow">switch</span>(xSymbol) {
<a name="l00043"></a>00043         <span class="keywordflow">case</span> XK_a                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a72a2adca82031c972fd80c8e0e5974b">MMSKEY_SMALL_A</a>;
<a name="l00044"></a>00044         <span class="keywordflow">case</span> XK_b                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a759d183b8adb855926d80c8145581ff">MMSKEY_SMALL_B</a>;
<a name="l00045"></a>00045         <span class="keywordflow">case</span> XK_c                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043d503689e0e626103400dec7c4a18f26e">MMSKEY_SMALL_C</a>;
<a name="l00046"></a>00046         <span class="keywordflow">case</span> XK_d                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04346d4572d27eaf793cac9187dd1dbe156">MMSKEY_SMALL_D</a>;
<a name="l00047"></a>00047         <span class="keywordflow">case</span> XK_e                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a897ed45166d5349ce6da94bd02c95de">MMSKEY_SMALL_E</a>;
<a name="l00048"></a>00048         <span class="keywordflow">case</span> XK_f                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043be80bf71aa4f111fd1e10eaf434b8de1">MMSKEY_SMALL_F</a>;
<a name="l00049"></a>00049         <span class="keywordflow">case</span> XK_g                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043339489a4027b87a49865898267065b86">MMSKEY_SMALL_G</a>;
<a name="l00050"></a>00050         <span class="keywordflow">case</span> XK_h                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043fd75feceb128a1d16fb582f6f4f06da1">MMSKEY_SMALL_H</a>;
<a name="l00051"></a>00051         <span class="keywordflow">case</span> XK_i                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04352260249b97552428bf007e0c0e6e06f">MMSKEY_SMALL_I</a>;
<a name="l00052"></a>00052         <span class="keywordflow">case</span> XK_j                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04351ef8492091473cbc171e06b7e829140">MMSKEY_SMALL_J</a>;
<a name="l00053"></a>00053         <span class="keywordflow">case</span> XK_k                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a747ae6e7ff3e4d7bc240360c21c2251">MMSKEY_SMALL_K</a>;
<a name="l00054"></a>00054         <span class="keywordflow">case</span> XK_l                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04356e3180c2d883cd965c594b001350639">MMSKEY_SMALL_L</a>;
<a name="l00055"></a>00055         <span class="keywordflow">case</span> XK_m                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e1d7c29217768ff8bbd067ea97b08158">MMSKEY_SMALL_M</a>;
<a name="l00056"></a>00056         <span class="keywordflow">case</span> XK_n                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0437695cefc7184ac417bcae492d24796a0">MMSKEY_SMALL_N</a>;
<a name="l00057"></a>00057         <span class="keywordflow">case</span> XK_o                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04301e503e1e00185d75063b741d5f81129">MMSKEY_SMALL_O</a>;
<a name="l00058"></a>00058         <span class="keywordflow">case</span> XK_p                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043cbc563f7d65b8ac23f38818e79529452">MMSKEY_SMALL_P</a>;
<a name="l00059"></a>00059         <span class="keywordflow">case</span> XK_q                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043920624596aed91eee4c2dfe72ef7114b">MMSKEY_SMALL_Q</a>;
<a name="l00060"></a>00060         <span class="keywordflow">case</span> XK_r                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043be17eebff56facbcc82c14bdefc05399">MMSKEY_SMALL_R</a>;
<a name="l00061"></a>00061         <span class="keywordflow">case</span> XK_s                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0432136eca81fad542f6d0def1414bf0fb0">MMSKEY_SMALL_S</a>;
<a name="l00062"></a>00062         <span class="keywordflow">case</span> XK_t                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043c28828b0a8ee30f9af671f96b6b0a617">MMSKEY_SMALL_T</a>;
<a name="l00063"></a>00063         <span class="keywordflow">case</span> XK_u                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0438b7d086f371dd2a70cd9a32145a8f3cc">MMSKEY_SMALL_U</a>;
<a name="l00064"></a>00064         <span class="keywordflow">case</span> XK_v                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043b58a89dd5edc82bdc4538e0ed3738b83">MMSKEY_SMALL_V</a>;
<a name="l00065"></a>00065         <span class="keywordflow">case</span> XK_w                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04333e0e3142bb80920179de4064a1c6f64">MMSKEY_SMALL_W</a>;
<a name="l00066"></a>00066         <span class="keywordflow">case</span> XK_x                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043ce1289ae410b0bafcccf0201e6ef8c20">MMSKEY_SMALL_X</a>;
<a name="l00067"></a>00067         <span class="keywordflow">case</span> XK_y                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04347dcf98b5264e78a98b3f5bd06331c8a">MMSKEY_SMALL_Y</a>;
<a name="l00068"></a>00068         <span class="keywordflow">case</span> XK_z                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043596a2f8dc91a7baf7a23db5c50faaedf">MMSKEY_SMALL_Z</a>;
<a name="l00069"></a>00069         <span class="keywordflow">case</span> XK_0                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043370a3557c07165f127aaec2339867360">MMSKEY_0</a>;
<a name="l00070"></a>00070         <span class="keywordflow">case</span> XK_1                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043c35f3ab76794a449d3c0bd2ffeb33cb1">MMSKEY_1</a>;
<a name="l00071"></a>00071         <span class="keywordflow">case</span> XK_2                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043374b1787bb97eaca44590a06687d56e4">MMSKEY_2</a>;
<a name="l00072"></a>00072         <span class="keywordflow">case</span> XK_3                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04341fe6a79b7ac133beb7c149061cad303">MMSKEY_3</a>;
<a name="l00073"></a>00073         <span class="keywordflow">case</span> XK_4                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043dcfe913d260b039502dc6cc22de46eec">MMSKEY_4</a>;
<a name="l00074"></a>00074         <span class="keywordflow">case</span> XK_5                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04340cd33a5b38dfdbd30e7b6a55c33d36b">MMSKEY_5</a>;
<a name="l00075"></a>00075         <span class="keywordflow">case</span> XK_6                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043525f8ca3fbe542863a9bc2b8c3bccbc6">MMSKEY_6</a>;
<a name="l00076"></a>00076         <span class="keywordflow">case</span> XK_7                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0430bfb32938034ca6f35c97a4b60f8357a">MMSKEY_7</a>;
<a name="l00077"></a>00077         <span class="keywordflow">case</span> XK_8                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04395fa0ed7513a923feefa495077e6ac37">MMSKEY_8</a>;
<a name="l00078"></a>00078         <span class="keywordflow">case</span> XK_9                : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043df00e6a3dccfca000e9b580b0bb15a47">MMSKEY_9</a>;
<a name="l00079"></a>00079         <span class="keywordflow">case</span> XK_F1               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043edbce62e07287aa17cb47ce2c63491e9">MMSKEY_F1</a>;
<a name="l00080"></a>00080         <span class="keywordflow">case</span> XK_F2               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043b9d67de79076b996bcb816bd6bee004c">MMSKEY_F2</a>;
<a name="l00081"></a>00081         <span class="keywordflow">case</span> XK_F3               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0437f71a4462f2d30da3336585fbd369d96">MMSKEY_F3</a>;
<a name="l00082"></a>00082         <span class="keywordflow">case</span> XK_F4               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043fd4bd197ea97f4c8dd3b2b9cf68101ff">MMSKEY_F4</a>;
<a name="l00083"></a>00083         <span class="keywordflow">case</span> XK_F5               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0436e4f14df5dce3a9bef6a12f3265623de">MMSKEY_F5</a>;
<a name="l00084"></a>00084         <span class="keywordflow">case</span> XK_F6               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043ee264f88241379c9ea404a09dac735b7">MMSKEY_F6</a>;
<a name="l00085"></a>00085         <span class="keywordflow">case</span> XK_F7               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043b02abcc2505e3fc5ed9cf54610d9ee45">MMSKEY_F7</a>;
<a name="l00086"></a>00086         <span class="keywordflow">case</span> XK_F8               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0433f1c021f6caa88d0054bb2cb6007ce2b">MMSKEY_F8</a>;
<a name="l00087"></a>00087         <span class="keywordflow">case</span> XK_F9               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04363b630c61ba9f5e0d8e918dc88689cd2">MMSKEY_F9</a>;
<a name="l00088"></a>00088         <span class="keywordflow">case</span> XK_F10              : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043dfd4605d867381a69873803a6564fbbb">MMSKEY_F10</a>;
<a name="l00089"></a>00089         <span class="keywordflow">case</span> XK_F11              : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0435efb05d13fc2b5ac775b7876ada256c9">MMSKEY_F11</a>;
<a name="l00090"></a>00090         <span class="keywordflow">case</span> XK_F12              : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04371c1994123a9b0bec874d5c03ac69061">MMSKEY_F12</a>;
<a name="l00091"></a>00091         <span class="keywordflow">case</span> XK_Caps_Lock        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04370071873e26749d8ce0349f23c594576">MMSKEY_CAPS_LOCK</a>;
<a name="l00092"></a>00092         <span class="keywordflow">case</span> XK_Num_Lock         : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04358af3e52526a478b93d06f138fdcc083">MMSKEY_NUM_LOCK</a>;
<a name="l00093"></a>00093         <span class="keywordflow">case</span> XK_Scroll_Lock      : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0431930d057125373830b9d82c69cfd9349">MMSKEY_SCROLL_LOCK</a>;
<a name="l00094"></a>00094         <span class="keywordflow">case</span> XK_Escape           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0433faaf7c273e7689488b7f803f0036c9c">MMSKEY_ESCAPE</a>;
<a name="l00095"></a>00095         <span class="keywordflow">case</span> XK_Left             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0439581b883623519ab58330b8e087d5747">MMSKEY_CURSOR_LEFT</a>;
<a name="l00096"></a>00096         <span class="keywordflow">case</span> XK_Right            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043f974796ec058f781ac89801a06e7e34f">MMSKEY_CURSOR_RIGHT</a>;
<a name="l00097"></a>00097         <span class="keywordflow">case</span> XK_Up               : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e300c1a229816dbf7c9c3054c2711202">MMSKEY_CURSOR_UP</a>;
<a name="l00098"></a>00098         <span class="keywordflow">case</span> XK_Down             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043ec4a510196d5062646f47298dad35aca">MMSKEY_CURSOR_DOWN</a>;
<a name="l00099"></a>00099         <span class="keywordflow">case</span> XK_Tab              : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043bfd4e2465647d1fae82eedb2ddf0f0d8">MMSKEY_TAB</a>;
<a name="l00100"></a>00100         <span class="keywordflow">case</span> XK_ISO_Left_Tab     : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043bfd4e2465647d1fae82eedb2ddf0f0d8">MMSKEY_TAB</a>;
<a name="l00101"></a>00101         <span class="keywordflow">case</span> XK_Return           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043d30cb702b17dd9c9f463f9a67d9e2c7d">MMSKEY_RETURN</a>;
<a name="l00102"></a>00102         <span class="keywordflow">case</span> XK_space            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043f0971761abe7985c714efef01839c98d">MMSKEY_SPACE</a>;
<a name="l00103"></a>00103         <span class="keywordflow">case</span> XK_BackSpace        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04332b123b9120e83350ad347af8867004e">MMSKEY_BACKSPACE</a>;
<a name="l00104"></a>00104         <span class="keywordflow">case</span> XK_Insert           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0436dc521a6e596680b88a919d84f725cba">MMSKEY_INSERT</a>;
<a name="l00105"></a>00105         <span class="keywordflow">case</span> XK_Delete           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043716510af4221d8af9f421024c0028911">MMSKEY_DELETE</a>;
<a name="l00106"></a>00106         <span class="keywordflow">case</span> XK_Home             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0435924937784f5dc5c839f5dd806397b11">MMSKEY_HOME</a>;
<a name="l00107"></a>00107         <span class="keywordflow">case</span> XK_End              : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0430896fc4571e406b8a4cfa1c2322734e8">MMSKEY_END</a>;
<a name="l00108"></a>00108         <span class="keywordflow">case</span> XK_Page_Up          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043d4642b2df86274928dbf718c19ea45ef">MMSKEY_PAGE_UP</a>;
<a name="l00109"></a>00109         <span class="keywordflow">case</span> XK_Page_Down        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043031adf93c91092c556383410d4252541">MMSKEY_PAGE_DOWN</a>;
<a name="l00110"></a>00110         <span class="keywordflow">case</span> XK_Print            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043946d3fcdd97e582b6182491a6137e3be">MMSKEY_PRINT</a>;
<a name="l00111"></a>00111         <span class="keywordflow">case</span> XK_Pause            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0437dcac95f8cfbbe25eb7fc9f99ecd9883">MMSKEY_PAUSE</a>;
<a name="l00112"></a>00112         <span class="keywordflow">case</span> XK_minus            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043d70f5c28010fb51d8c066458ee368c67">MMSKEY_MINUS_SIGN</a>;
<a name="l00113"></a>00113         <span class="keywordflow">case</span> XK_plus             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e2fae3def86e6d6f317e950b2c26ed9c">MMSKEY_PLUS_SIGN</a>;
<a name="l00114"></a>00114         <span class="keywordflow">case</span> XK_equal            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0438d9ae43b8182b73b9d8a7de63e0d56de">MMSKEY_EQUALS_SIGN</a>;
<a name="l00115"></a>00115         <span class="keywordflow">case</span> XK_backslash        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043fb13c1a95f5e8e860966a15b7862bf76">MMSKEY_BACKSLASH</a>;
<a name="l00116"></a>00116         <span class="keywordflow">case</span> XK_semicolon        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04395b466b8947ea9b290640a348fc1c340">MMSKEY_SEMICOLON</a>;
<a name="l00117"></a>00117         <span class="keywordflow">case</span> XK_comma            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043cec0aee1d3df4dfcc5939da53ca28aab">MMSKEY_COMMA</a>;
<a name="l00118"></a>00118         <span class="keywordflow">case</span> XK_period           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a4c360a9925622ef0d3e162db63bdc47">MMSKEY_PERIOD</a>;
<a name="l00119"></a>00119         <span class="keywordflow">case</span> XK_slash            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0433bf5d94b7e1ea4f5763e2080f94925d9">MMSKEY_SLASH</a>;
<a name="l00120"></a>00120         <span class="keywordflow">case</span> XK_Shift_L          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04350e25e24d8244f7192db457c1c60898b">MMSKEY_SHIFT</a>;
<a name="l00121"></a>00121         <span class="keywordflow">case</span> XK_Shift_R          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04350e25e24d8244f7192db457c1c60898b">MMSKEY_SHIFT</a>;
<a name="l00122"></a>00122         <span class="keywordflow">case</span> XK_Control_L        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04306f02a001d01bc886a9a5b0c39a44640">MMSKEY_CONTROL</a>;
<a name="l00123"></a>00123         <span class="keywordflow">case</span> XK_Control_R        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04306f02a001d01bc886a9a5b0c39a44640">MMSKEY_CONTROL</a>;
<a name="l00124"></a>00124         <span class="keywordflow">case</span> XK_Alt_L            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0430f975adf6daf90c0bd424fc987ca7847">MMSKEY_ALT</a>;
<a name="l00125"></a>00125         <span class="keywordflow">case</span> XK_Alt_R            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0430f975adf6daf90c0bd424fc987ca7847">MMSKEY_ALT</a>;
<a name="l00126"></a>00126         <span class="keywordflow">case</span> XK_Meta_L           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e43cf2743822c52e5f87a8697ae9c32d">MMSKEY_META</a>;
<a name="l00127"></a>00127         <span class="keywordflow">case</span> XK_Meta_R           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e43cf2743822c52e5f87a8697ae9c32d">MMSKEY_META</a>;
<a name="l00128"></a>00128         <span class="keywordflow">case</span> XK_Super_L          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a9912e709e1b8cf751e95461a24da145">MMSKEY_SUPER</a>;
<a name="l00129"></a>00129         <span class="keywordflow">case</span> XK_Super_R          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a9912e709e1b8cf751e95461a24da145">MMSKEY_SUPER</a>;
<a name="l00130"></a>00130         <span class="keywordflow">case</span> XK_Hyper_L          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e88520d52b40a3d9df52074b00b538be">MMSKEY_HYPER</a>;
<a name="l00131"></a>00131         <span class="keywordflow">case</span> XK_Hyper_R          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e88520d52b40a3d9df52074b00b538be">MMSKEY_HYPER</a>;
<a name="l00132"></a>00132         <span class="keywordflow">case</span> XK_Mode_switch      : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a1e4415a00f7b5fa2342093add3cde2c">MMSKEY_ALTGR</a>;
<a name="l00133"></a>00133         <span class="keywordflow">case</span> XK_KP_Divide        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0433bf5d94b7e1ea4f5763e2080f94925d9">MMSKEY_SLASH</a>;
<a name="l00134"></a>00134         <span class="keywordflow">case</span> XK_KP_Multiply      : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043f5545eac091958a3603660d0d1ed01c9">MMSKEY_ASTERISK</a>;
<a name="l00135"></a>00135         <span class="keywordflow">case</span> XK_KP_Subtract      : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043d70f5c28010fb51d8c066458ee368c67">MMSKEY_MINUS_SIGN</a>;
<a name="l00136"></a>00136         <span class="keywordflow">case</span> XK_KP_Add           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e2fae3def86e6d6f317e950b2c26ed9c">MMSKEY_PLUS_SIGN</a>;
<a name="l00137"></a>00137         <span class="keywordflow">case</span> XK_KP_Enter         : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043d30cb702b17dd9c9f463f9a67d9e2c7d">MMSKEY_RETURN</a>;
<a name="l00138"></a>00138         <span class="keywordflow">case</span> XK_KP_Space         : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043f0971761abe7985c714efef01839c98d">MMSKEY_SPACE</a>;
<a name="l00139"></a>00139         <span class="keywordflow">case</span> XK_KP_Tab           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043bfd4e2465647d1fae82eedb2ddf0f0d8">MMSKEY_TAB</a>;
<a name="l00140"></a>00140         <span class="keywordflow">case</span> XK_KP_F1            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043edbce62e07287aa17cb47ce2c63491e9">MMSKEY_F1</a>;
<a name="l00141"></a>00141         <span class="keywordflow">case</span> XK_KP_F2            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043b9d67de79076b996bcb816bd6bee004c">MMSKEY_F2</a>;
<a name="l00142"></a>00142         <span class="keywordflow">case</span> XK_KP_F3            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0437f71a4462f2d30da3336585fbd369d96">MMSKEY_F3</a>;
<a name="l00143"></a>00143         <span class="keywordflow">case</span> XK_KP_F4            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043fd4bd197ea97f4c8dd3b2b9cf68101ff">MMSKEY_F4</a>;
<a name="l00144"></a>00144         <span class="keywordflow">case</span> XK_KP_Equal         : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0438d9ae43b8182b73b9d8a7de63e0d56de">MMSKEY_EQUALS_SIGN</a>;
<a name="l00145"></a>00145         <span class="keywordflow">case</span> XK_KP_Separator     : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04337aa4c1b989d8ef040237b232597c2de">MMSKEY_COLON</a>;
<a name="l00146"></a>00146         <span class="keywordflow">case</span> XK_KP_Delete        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043716510af4221d8af9f421024c0028911">MMSKEY_DELETE</a>;
<a name="l00147"></a>00147         <span class="keywordflow">case</span> XK_KP_Insert        : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0436dc521a6e596680b88a919d84f725cba">MMSKEY_INSERT</a>;
<a name="l00148"></a>00148         <span class="keywordflow">case</span> XK_KP_End           : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0430896fc4571e406b8a4cfa1c2322734e8">MMSKEY_END</a>;
<a name="l00149"></a>00149         <span class="keywordflow">case</span> XK_KP_Down          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043ec4a510196d5062646f47298dad35aca">MMSKEY_CURSOR_DOWN</a>;
<a name="l00150"></a>00150         <span class="keywordflow">case</span> XK_KP_Page_Down     : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043031adf93c91092c556383410d4252541">MMSKEY_PAGE_DOWN</a>;
<a name="l00151"></a>00151         <span class="keywordflow">case</span> XK_KP_Left          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0439581b883623519ab58330b8e087d5747">MMSKEY_CURSOR_LEFT</a>;
<a name="l00152"></a>00152         <span class="keywordflow">case</span> XK_KP_Begin         : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0431b798390fd805fe8dbda9969627a2481">MMSKEY_BEGIN</a>;
<a name="l00153"></a>00153         <span class="keywordflow">case</span> XK_KP_Right         : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043f974796ec058f781ac89801a06e7e34f">MMSKEY_CURSOR_RIGHT</a>;
<a name="l00154"></a>00154         <span class="keywordflow">case</span> XK_KP_Home          : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0435924937784f5dc5c839f5dd806397b11">MMSKEY_HOME</a>;
<a name="l00155"></a>00155         <span class="keywordflow">case</span> XK_KP_Up            : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043e300c1a229816dbf7c9c3054c2711202">MMSKEY_CURSOR_UP</a>;
<a name="l00156"></a>00156         <span class="keywordflow">case</span> XK_KP_Page_Up       : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043d4642b2df86274928dbf718c19ea45ef">MMSKEY_PAGE_UP</a>;
<a name="l00157"></a>00157         <span class="keywordflow">case</span> XK_KP_Decimal       : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043a4c360a9925622ef0d3e162db63bdc47">MMSKEY_PERIOD</a>;
<a name="l00158"></a>00158         <span class="keywordflow">case</span> XK_KP_0             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043370a3557c07165f127aaec2339867360">MMSKEY_0</a>;
<a name="l00159"></a>00159         <span class="keywordflow">case</span> XK_KP_1             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043c35f3ab76794a449d3c0bd2ffeb33cb1">MMSKEY_1</a>;
<a name="l00160"></a>00160         <span class="keywordflow">case</span> XK_KP_2             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043374b1787bb97eaca44590a06687d56e4">MMSKEY_2</a>;
<a name="l00161"></a>00161         <span class="keywordflow">case</span> XK_KP_3             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04341fe6a79b7ac133beb7c149061cad303">MMSKEY_3</a>;
<a name="l00162"></a>00162         <span class="keywordflow">case</span> XK_KP_4             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043dcfe913d260b039502dc6cc22de46eec">MMSKEY_4</a>;
<a name="l00163"></a>00163         <span class="keywordflow">case</span> XK_KP_5             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04340cd33a5b38dfdbd30e7b6a55c33d36b">MMSKEY_5</a>;
<a name="l00164"></a>00164         <span class="keywordflow">case</span> XK_KP_6             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043525f8ca3fbe542863a9bc2b8c3bccbc6">MMSKEY_6</a>;
<a name="l00165"></a>00165         <span class="keywordflow">case</span> XK_KP_7             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b0430bfb32938034ca6f35c97a4b60f8357a">MMSKEY_7</a>;
<a name="l00166"></a>00166         <span class="keywordflow">case</span> XK_KP_8             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b04395fa0ed7513a923feefa495077e6ac37">MMSKEY_8</a>;
<a name="l00167"></a>00167         <span class="keywordflow">case</span> XK_KP_9             : <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043df00e6a3dccfca000e9b580b0bb15a47">MMSKEY_9</a>;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 
<a name="l00171"></a>00171         <span class="keywordflow">default</span>:    <span class="keywordflow">return</span> <a class="code" href="mmstypes_8h.html#7fe90201339002ff488a00e26293b043ec71def6337252ef3e678e7a8e1128e6">MMSKEY_UNKNOWN</a>;
<a name="l00172"></a>00172     }
<a name="l00173"></a>00173 }
<a name="l00174"></a>00174 <span class="preprocessor">#endif</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span>
<a name="l00176"></a><a class="code" href="classMMSInputX11Handler.html#9ba1ef15c845add557a43809ed404abd">00176</a> <a class="code" href="classMMSInputX11Handler.html#9ba1ef15c845add557a43809ed404abd">MMSInputX11Handler::MMSInputX11Handler</a>(<a class="code" href="mmsinputhandler_8h.html#78bf7f07acbb8e365002f97cc154e2cf">MMS_INPUT_DEVICE</a> device) {
<a name="l00177"></a>00177 <span class="preprocessor">#ifdef __HAVE_XLIB__</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span>    this-&gt;<a class="code" href="classMMSInputX11Handler.html#3c132d763cff1698f6f93117b2c32261">window</a> = *((Window*) <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#a8ec88775e826847cc6e008fe078a7fa">getX11Window</a>());
<a name="l00179"></a>00179     this-&gt;<a class="code" href="classMMSInputX11Handler.html#c6897db11d8d0ff6c7537ae06db75e08">display</a> = (Display *)<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#f853688f9806b07c84f7af83933f2d1b">getX11Display</a>();
<a name="l00180"></a>00180     <span class="comment">//printf("\nwindow %d, %x\n",window, display);</span>
<a name="l00181"></a>00181     <a class="code" href="classMMSInputX11Handler.html#497b9256cc460d0741071b254e2184d1">lastmotion</a> = 0;
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 <span class="preprocessor">#else</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span>    <span class="keywordflow">throw</span> <a class="code" href="classMMSError.html" title="Base class for exception handling in disko.">MMSError</a>(0,(<span class="keywordtype">string</span>)<span class="keyword">typeid</span>(<span class="keyword">this</span>).<a class="code" href="classMMSWidget.html#85d3cc50918b223dd6e268b21d1e37d7" title="name of the widget">name</a>() + <span class="stringliteral">" is empty. compile X11 support!"</span>);
<a name="l00185"></a>00185 <span class="preprocessor">#endif</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>}
<a name="l00187"></a>00187 
<a name="l00188"></a><a class="code" href="classMMSInputX11Handler.html#c1f5fdd223f030e4b0ee10b368fc8472">00188</a> <a class="code" href="classMMSInputX11Handler.html#c1f5fdd223f030e4b0ee10b368fc8472">MMSInputX11Handler::~MMSInputX11Handler</a>() {
<a name="l00189"></a>00189 <span class="preprocessor">#ifdef __HAVE_XLIB__</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span>}
<a name="l00192"></a>00192 
<a name="l00193"></a><a class="code" href="classMMSInputX11Handler.html#cda1c6f9a7ec008d4e52f89a11424d1d">00193</a> <span class="keywordtype">void</span> <a class="code" href="classMMSInputX11Handler.html#cda1c6f9a7ec008d4e52f89a11424d1d">MMSInputX11Handler::grabEvents</a>(<a class="code" href="structMMSInputEvent.html">MMSInputEvent</a> *inputevent) {
<a name="l00194"></a>00194 <span class="preprocessor">#ifdef __HAVE_XLIB__</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span>    XEvent event;
<a name="l00196"></a>00196     Bool ret;
<a name="l00197"></a>00197     <span class="keywordflow">while</span>(1) {
<a name="l00198"></a>00198         <span class="comment">//</span>
<a name="l00199"></a>00199         XLockDisplay(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>);
<a name="l00200"></a>00200         ret=XCheckWindowEvent(this-&gt;<a class="code" href="classMMSInputX11Handler.html#c6897db11d8d0ff6c7537ae06db75e08">display</a>,  this-&gt;<a class="code" href="classMMSInputX11Handler.html#3c132d763cff1698f6f93117b2c32261">window</a>, KeyPressMask|KeyReleaseMask|ExposureMask|ButtonPressMask|ButtonReleaseMask|PointerMotionMask|EnterWindowMask|ResizeRedirectMask|StructureNotifyMask, &amp;event);
<a name="l00201"></a>00201         XUnlockDisplay(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>);
<a name="l00202"></a>00202         <span class="keywordflow">if</span>(ret==False) {
<a name="l00203"></a>00203             usleep(10000);
<a name="l00204"></a>00204             <span class="keywordflow">continue</span>;
<a name="l00205"></a>00205         }
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="comment">//      XWindowEvent(this-&gt;display,  this-&gt;window, KeyPressMask|KeyReleaseMask|ExposureMask|ButtonPressMask|ButtonReleaseMask|PointerMotionMask|EnterWindowMask|ResizeRedirectMask, &amp;event);</span>
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         <span class="comment">//printf("have event\n");</span>
<a name="l00210"></a>00210         <span class="comment">//printf("\n%d",event.type);</span>
<a name="l00211"></a>00211         <span class="comment">//XNextEvent(this-&gt;display, &amp;event);</span>
<a name="l00212"></a>00212         <span class="keywordflow">if</span>(event.type==ResizeRequest) {
<a name="l00213"></a>00213             <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#2eb974940bf7d9dd267c0edbb58d416f">resized</a>=<span class="keyword">true</span>;
<a name="l00214"></a>00214             <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#05f017ddee4e350644b2673f2e685625">target_window_w</a> = <span class="keyword">event</span>.xresizerequest.width;
<a name="l00215"></a>00215             <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#844498c1b186e2627025107fa777f7bf">target_window_h</a> = <span class="keyword">event</span>.xresizerequest.height;
<a name="l00216"></a>00216             <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#8f1bc7cd88a44ac87a6dc2ba5077722b">resizeWindow</a>();
<a name="l00217"></a>00217         }
<a name="l00218"></a>00218         <span class="keywordflow">if</span>(event.type==KeyPress) {
<a name="l00219"></a>00219             inputevent-&gt;<a class="code" href="structMMSInputEvent.html#65b815e5f6b6af3a2350e2528a9aef3d">type</a> = <a class="code" href="mmsguitools_8h.html#55e132832af5e96a6df7554451bc2609318c7f66765835a326411f9bcc8370a1">MMSINPUTEVENTTYPE_KEYPRESS</a>;
<a name="l00220"></a>00220             XLockDisplay(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>);
<a name="l00221"></a>00221             KeySym xSymbol = XKeycodeToKeysym(this-&gt;<a class="code" href="classMMSInputX11Handler.html#c6897db11d8d0ff6c7537ae06db75e08">display</a> , event.xkey.keycode,0 );
<a name="l00222"></a>00222             XUnlockDisplay(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>);
<a name="l00223"></a>00223             inputevent-&gt;<a class="code" href="structMMSInputEvent.html#39baa7bb431c0c28bc7b2d0bf155e16e">key</a> = <a class="code" href="mmsinputx11handler_8cpp.html#71229139d7c057da83a23e0f09a624cd">getKeyFromX11</a>(xSymbol);
<a name="l00224"></a>00224             <span class="keywordflow">return</span>;
<a name="l00225"></a>00225         }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227         <span class="keywordflow">if</span>(event.type==KeyRelease) {
<a name="l00228"></a>00228             inputevent-&gt;<a class="code" href="structMMSInputEvent.html#65b815e5f6b6af3a2350e2528a9aef3d">type</a> = <a class="code" href="mmsguitools_8h.html#55e132832af5e96a6df7554451bc26098d3f245a0c04fb9eb066261e2b733b4c">MMSINPUTEVENTTYPE_KEYRELEASE</a>;
<a name="l00229"></a>00229             XLockDisplay(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>);
<a name="l00230"></a>00230             KeySym xSymbol = XKeycodeToKeysym(this-&gt;<a class="code" href="classMMSInputX11Handler.html#c6897db11d8d0ff6c7537ae06db75e08">display</a> , event.xkey.keycode,0 );
<a name="l00231"></a>00231             XUnlockDisplay(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>);
<a name="l00232"></a>00232             inputevent-&gt;<a class="code" href="structMMSInputEvent.html#39baa7bb431c0c28bc7b2d0bf155e16e">key</a> = <a class="code" href="mmsinputx11handler_8cpp.html#71229139d7c057da83a23e0f09a624cd">getKeyFromX11</a>(xSymbol);
<a name="l00233"></a>00233             <span class="keywordflow">return</span>;
<a name="l00234"></a>00234         }
<a name="l00235"></a>00235         <span class="keywordflow">if</span>(event.type==ButtonPress) {
<a name="l00236"></a>00236         <span class="comment">//discard all buttons but the left */</span>
<a name="l00237"></a>00237         <span class="keywordflow">if</span>(event.xbutton.button != 1)
<a name="l00238"></a>00238             <span class="keywordflow">return</span>;
<a name="l00239"></a>00239             inputevent-&gt;<a class="code" href="structMMSInputEvent.html#65b815e5f6b6af3a2350e2528a9aef3d">type</a> = <a class="code" href="mmsguitools_8h.html#55e132832af5e96a6df7554451bc260983e8ebed2fd26ad4ef5aac63aea397b7">MMSINPUTEVENTTYPE_BUTTONPRESS</a>;
<a name="l00240"></a>00240             <span class="keywordflow">if</span> (<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#c70b64f5600b751fcc9fda4d841c1719">fullscreen</a> == <a class="code" href="mmstypes_8h.html#39f738b38a49ef6bde463222eb7cd4c2ba4b5f968d4ba0d57eaba23d23ee1f4d" title="enabled">MMSFB_FSM_TRUE</a> || <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#c70b64f5600b751fcc9fda4d841c1719">fullscreen</a> == <a class="code" href="mmstypes_8h.html#39f738b38a49ef6bde463222eb7cd4c24ca55410b6eaf311b6817e1309dad221" title="enabled, using the correct aspect ratio">MMSFB_FSM_ASPECT_RATIO</a>) {
<a name="l00241"></a>00241                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#e48730a401f49586f2d40296858b5cb0">posx</a> = (int)((<span class="keywordtype">double</span>)((double)event.xbutton.x / (<span class="keywordtype">double</span>)<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#6e372cc80ac77eb2e96869dd671f0769">display_w</a> ) * <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0fa67c31c0c63080e8e4cfe8a030293b">x11_win_rect</a>.<a class="code" href="classMMSFBRectangle.html#6d149724642ea0b33ce3152a5a5499a5" title="width">w</a>);
<a name="l00242"></a>00242                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#4af0096d9331829d0dc64edfa1134133">posy</a> =  (int)((<span class="keywordtype">double</span>)((double)event.xbutton.y / (<span class="keywordtype">double</span>)<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#632f03310ccecce4f48b212f814e8e94">display_h</a> ) * <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0fa67c31c0c63080e8e4cfe8a030293b">x11_win_rect</a>.<a class="code" href="classMMSFBRectangle.html#80e92abd0c1a7a9a67f5fde757a080ad" title="height">h</a>);
<a name="l00243"></a>00243             }
<a name="l00244"></a>00244             <span class="keywordflow">else</span> {
<a name="l00245"></a>00245                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#e48730a401f49586f2d40296858b5cb0">posx</a> = <span class="keyword">event</span>.xbutton.x;
<a name="l00246"></a>00246                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#4af0096d9331829d0dc64edfa1134133">posy</a> = <span class="keyword">event</span>.xbutton.y;
<a name="l00247"></a>00247             }
<a name="l00248"></a>00248             <span class="comment">/*printf("press x: %d y: %d \n",event.xbutton.x,event.xbutton.y);</span>
<a name="l00249"></a>00249 <span class="comment">            printf("rect x: %d y: %d \n\n",inputevent-&gt;posx,inputevent-&gt;posy);*/</span>
<a name="l00250"></a>00250             <span class="keywordflow">return</span>;
<a name="l00251"></a>00251         }
<a name="l00252"></a>00252         <span class="keywordflow">if</span>(event.type==ButtonRelease) {
<a name="l00253"></a>00253         <span class="comment">//discard all buttons but the left */</span>
<a name="l00254"></a>00254         <span class="keywordflow">if</span>(event.xbutton.button != 1)
<a name="l00255"></a>00255             <span class="keywordflow">return</span>;
<a name="l00256"></a>00256             inputevent-&gt;<a class="code" href="structMMSInputEvent.html#65b815e5f6b6af3a2350e2528a9aef3d">type</a> = <a class="code" href="mmsguitools_8h.html#55e132832af5e96a6df7554451bc260995bc9431d848e49872c7642fb080071a">MMSINPUTEVENTTYPE_BUTTONRELEASE</a>;
<a name="l00257"></a>00257             <span class="keywordflow">if</span> (<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#c70b64f5600b751fcc9fda4d841c1719">fullscreen</a> == <a class="code" href="mmstypes_8h.html#39f738b38a49ef6bde463222eb7cd4c2ba4b5f968d4ba0d57eaba23d23ee1f4d" title="enabled">MMSFB_FSM_TRUE</a> || <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#c70b64f5600b751fcc9fda4d841c1719">fullscreen</a> == <a class="code" href="mmstypes_8h.html#39f738b38a49ef6bde463222eb7cd4c24ca55410b6eaf311b6817e1309dad221" title="enabled, using the correct aspect ratio">MMSFB_FSM_ASPECT_RATIO</a>) {
<a name="l00258"></a>00258                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#e48730a401f49586f2d40296858b5cb0">posx</a> = (int)((<span class="keywordtype">double</span>)((double)event.xbutton.x / (<span class="keywordtype">double</span>)<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#6e372cc80ac77eb2e96869dd671f0769">display_w</a> ) * <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0fa67c31c0c63080e8e4cfe8a030293b">x11_win_rect</a>.<a class="code" href="classMMSFBRectangle.html#6d149724642ea0b33ce3152a5a5499a5" title="width">w</a>);
<a name="l00259"></a>00259                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#4af0096d9331829d0dc64edfa1134133">posy</a> =  (int)((<span class="keywordtype">double</span>)((double)event.xbutton.y / (<span class="keywordtype">double</span>)<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#632f03310ccecce4f48b212f814e8e94">display_h</a> ) * <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0fa67c31c0c63080e8e4cfe8a030293b">x11_win_rect</a>.<a class="code" href="classMMSFBRectangle.html#80e92abd0c1a7a9a67f5fde757a080ad" title="height">h</a>);
<a name="l00260"></a>00260             }
<a name="l00261"></a>00261             <span class="keywordflow">else</span> {
<a name="l00262"></a>00262                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#e48730a401f49586f2d40296858b5cb0">posx</a> = <span class="keyword">event</span>.xbutton.x;
<a name="l00263"></a>00263                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#4af0096d9331829d0dc64edfa1134133">posy</a> = <span class="keyword">event</span>.xbutton.y;
<a name="l00264"></a>00264             }
<a name="l00265"></a>00265 <span class="comment">/*          printf("release x: %d y: %d \n",event.xbutton.x,event.xbutton.y);</span>
<a name="l00266"></a>00266 <span class="comment">            printf("rect x: %d y: %d \n\n",inputevent-&gt;posx,inputevent-&gt;posy);*/</span>
<a name="l00267"></a>00267             <span class="keywordflow">return</span>;
<a name="l00268"></a>00268         }
<a name="l00269"></a>00269         <span class="keywordflow">if</span>(event.type==MotionNotify) {
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="preprocessor">#if 0</span>
<a name="l00272"></a>00272 <span class="preprocessor"></span>            <span class="keywordflow">if</span>(<a class="code" href="classMMSInputX11Handler.html#497b9256cc460d0741071b254e2184d1">lastmotion</a>!=0) {
<a name="l00273"></a>00273                 <span class="keywordflow">if</span>(<a class="code" href="classMMSInputX11Handler.html#497b9256cc460d0741071b254e2184d1">lastmotion</a>+15 &gt; event.xbutton.time) {
<a name="l00274"></a>00274                     <span class="keywordflow">return</span>;
<a name="l00275"></a>00275                 }
<a name="l00276"></a>00276             }
<a name="l00277"></a>00277             <a class="code" href="classMMSInputX11Handler.html#497b9256cc460d0741071b254e2184d1">lastmotion</a>=<span class="keyword">event</span>.xbutton.time;
<a name="l00278"></a>00278 <span class="preprocessor">#endif</span>
<a name="l00279"></a>00279 <span class="preprocessor"></span>
<a name="l00280"></a>00280             inputevent-&gt;<a class="code" href="structMMSInputEvent.html#65b815e5f6b6af3a2350e2528a9aef3d">type</a> = <a class="code" href="mmsguitools_8h.html#55e132832af5e96a6df7554451bc26096fefdc4442ed8e471f9af0b326f737f5">MMSINPUTEVENTTYPE_AXISMOTION</a>;
<a name="l00281"></a>00281             <span class="keywordflow">if</span> (<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#c70b64f5600b751fcc9fda4d841c1719">fullscreen</a> == <a class="code" href="mmstypes_8h.html#39f738b38a49ef6bde463222eb7cd4c2ba4b5f968d4ba0d57eaba23d23ee1f4d" title="enabled">MMSFB_FSM_TRUE</a> || <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#c70b64f5600b751fcc9fda4d841c1719">fullscreen</a> == <a class="code" href="mmstypes_8h.html#39f738b38a49ef6bde463222eb7cd4c24ca55410b6eaf311b6817e1309dad221" title="enabled, using the correct aspect ratio">MMSFB_FSM_ASPECT_RATIO</a> || <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#2eb974940bf7d9dd267c0edbb58d416f">resized</a>) {
<a name="l00282"></a>00282                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#e48730a401f49586f2d40296858b5cb0">posx</a> = (int)((<span class="keywordtype">double</span>)((double)event.xbutton.x / (<span class="keywordtype">double</span>)<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#6e372cc80ac77eb2e96869dd671f0769">display_w</a> ) * <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0fa67c31c0c63080e8e4cfe8a030293b">x11_win_rect</a>.<a class="code" href="classMMSFBRectangle.html#6d149724642ea0b33ce3152a5a5499a5" title="width">w</a>);
<a name="l00283"></a>00283                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#4af0096d9331829d0dc64edfa1134133">posy</a> =  (int)((<span class="keywordtype">double</span>)((double)event.xbutton.y / (<span class="keywordtype">double</span>)<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#632f03310ccecce4f48b212f814e8e94">display_h</a> ) * <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0fa67c31c0c63080e8e4cfe8a030293b">x11_win_rect</a>.<a class="code" href="classMMSFBRectangle.html#80e92abd0c1a7a9a67f5fde757a080ad" title="height">h</a>);
<a name="l00284"></a>00284             }
<a name="l00285"></a>00285             <span class="keywordflow">else</span> {
<a name="l00286"></a>00286                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#e48730a401f49586f2d40296858b5cb0">posx</a> = <span class="keyword">event</span>.xbutton.x;
<a name="l00287"></a>00287                 inputevent-&gt;<a class="code" href="structMMSInputEvent.html#4af0096d9331829d0dc64edfa1134133">posy</a> = <span class="keyword">event</span>.xbutton.y;
<a name="l00288"></a>00288             }
<a name="l00289"></a>00289 <span class="comment">/*          printf("release x: %d y: %d \n",event.xbutton.x,event.xbutton.y);</span>
<a name="l00290"></a>00290 <span class="comment">            printf("rect x: %d y: %d \n\n",inputevent-&gt;posx,inputevent-&gt;posy);*/</span>
<a name="l00291"></a>00291             <span class="keywordflow">return</span>;
<a name="l00292"></a>00292         }
<a name="l00293"></a>00293 
<a name="l00294"></a>00294         <span class="keywordflow">if</span>(event.type==Expose) {
<a name="l00295"></a>00295             <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#70df4dd685e919984de73cbbdbd44ea9">refresh</a>();
<a name="l00296"></a>00296         }
<a name="l00297"></a>00297         <span class="keywordflow">if</span>(event.type == MapNotify) {
<a name="l00298"></a>00298             <span class="comment">/*</span>
<a name="l00299"></a>00299 <span class="comment">            for(int i=0; ;i++) {</span>
<a name="l00300"></a>00300 <span class="comment">                if(mmsfb-&gt;x_windows[i]==0)</span>
<a name="l00301"></a>00301 <span class="comment">                    break;</span>
<a name="l00302"></a>00302 <span class="comment">                else if(mmsfb-&gt;x_windows[i]!=mmsfb-&gt;input_window) {</span>
<a name="l00303"></a>00303 <span class="comment">                    XLowerWindow(mmsfb-&gt;x_display, mmsfb-&gt;x_windows[i]);</span>
<a name="l00304"></a>00304 <span class="comment">                    XMapWindow(mmsfb-&gt;x_display, mmsfb-&gt;x_windows[i]);</span>
<a name="l00305"></a>00305 <span class="comment">                    XRaiseWindow(mmsfb-&gt;x_display, mmsfb-&gt;input_window);</span>
<a name="l00306"></a>00306 <span class="comment">                    printf("mapping layer %d\n", i);</span>
<a name="l00307"></a>00307 <span class="comment">                    XSync(mmsfb-&gt;x_display,False);</span>
<a name="l00308"></a>00308 <span class="comment">                }</span>
<a name="l00309"></a>00309 <span class="comment">            }*/</span>
<a name="l00310"></a>00310         }
<a name="l00311"></a>00311         <span class="keywordflow">if</span>(event.type == UnmapNotify) {
<a name="l00312"></a>00312             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; ;i++) {
<a name="l00313"></a>00313                 <span class="keywordflow">if</span>(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#9e219e1a599cdb8e87584257dd3206dc">x_windows</a>[i]==0)
<a name="l00314"></a>00314                     <span class="keywordflow">break</span>;
<a name="l00315"></a>00315                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#9e219e1a599cdb8e87584257dd3206dc">x_windows</a>[i]!=<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#ddb40ecaa4d5c0607d5e9c01b2a1a205">input_window</a>) {
<a name="l00316"></a>00316                     <span class="comment">//fill layer window with default root</span>
<a name="l00317"></a>00317                     <a class="code" href="classMMSFBLayer.html" title="This class describes a display layer.">MMSFBLayer</a> *layer ;
<a name="l00318"></a>00318                     <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#f6b25a18906101fcc83a279938a74cb2">getLayer</a>(i, &amp;layer);
<a name="l00319"></a>00319                     <a class="code" href="structX11__IMPL.html">X11_IMPL</a> *impl = (<a class="code" href="structX11__IMPL.html">X11_IMPL</a> *)layer-&gt;<a class="code" href="classMMSFBLayer.html#5e9170c31e45604421d8acb91c6cd0de">getImplementation</a>();
<a name="l00320"></a>00320                     XLockDisplay(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>);
<a name="l00321"></a>00321                     XPutImage(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>, <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#9e219e1a599cdb8e87584257dd3206dc">x_windows</a>[i], impl-&gt;<a class="code" href="structX11__IMPL.html#538886c644f0c02207477d36fd8bf0c4">x_gc</a>, <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#a661b04c92295877783d3382e35e32e3">rootimage</a>, 0,0, 0, 0, <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#6e372cc80ac77eb2e96869dd671f0769">display_w</a>,
<a name="l00322"></a>00322                               <a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#632f03310ccecce4f48b212f814e8e94">display_h</a>);
<a name="l00323"></a>00323 
<a name="l00324"></a>00324                     <span class="comment">//XUnmapWindow(mmsfb-&gt;x_display, mmsfb-&gt;x_windows[i]);</span>
<a name="l00325"></a>00325                     printf(<span class="stringliteral">"unmapping layer %d\n"</span>, i);
<a name="l00326"></a>00326                     XSync(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>,False);
<a name="l00327"></a>00327                     XUnlockDisplay(<a class="code" href="mmsfb_8h.html#a1513ce6000f5760ddd9613e0cdffb04">mmsfb</a>-&gt;<a class="code" href="classMMSFB.html#0021148e199e26f19a15b45861aee74d" title="connection to the x-server">x_display</a>);
<a name="l00328"></a>00328                 }
<a name="l00329"></a>00329             }
<a name="l00330"></a>00330         }
<a name="l00331"></a>00331 
<a name="l00332"></a>00332     }
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="preprocessor">#else</span>
<a name="l00335"></a>00335 <span class="preprocessor"></span>    <span class="keywordflow">throw</span> <a class="code" href="classMMSError.html" title="Base class for exception handling in disko.">MMSError</a>(0,(<span class="keywordtype">string</span>)<span class="keyword">typeid</span>(<span class="keyword">this</span>).<a class="code" href="classMMSWidget.html#85d3cc50918b223dd6e268b21d1e37d7" title="name of the widget">name</a>() + <span class="stringliteral">" is empty. compile X11 support!"</span>);
<a name="l00336"></a>00336 <span class="preprocessor">#endif</span>
<a name="l00337"></a>00337 <span class="preprocessor"></span>
<a name="l00338"></a>00338 }
</pre></div></div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1675780-3");
pageTracker._trackPageview();
</script>

<hr class="footer"/><address class="footer" style="text-align:right;"><small>Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a></small></address>
</body>
</html>
